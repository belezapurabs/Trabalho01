create database if not exists Salao_bp2;
use Salao_bp2;
#drop database salao_bp2;
/* Em construção: */

CREATE TABLE CONTATO (
    cod_contato integer PRIMARY KEY,
    Descrição_cantato varchar(80),
    FK_TIPO_CONTATO_Codigo integer,
    FK_PESSOA_COD_PESSOA integer
);
INSERT INTO CONTATO(
cod_contato,
Descrição_cantato,
FK_TIPO_CONTATO_Codigo,
FK_PESSOA_COD_PESSOA)

VALUES(81,'MARIA@GMAIL.COM',10,71),
(82,'2222-2222',20,72),
(83,'FLAVIS@GMAIL.COM',10,73),
(84,'JOAO NESC',30,74),
(85,'(27) 99999-3223',40,75),
(86,'1010-1010',20,76),
(87,'ANDERSON@GMAIL.COM',10,77),
(88,'JESSICA GONSALVES',30,78),
(89,'ALLANIS@GMAIL.COM',10,79);


CREATE TABLE TIPO_CONTATO (
    Codigo integer PRIMARY KEY,
    DESCRIÇÃO varchar(80)
);
INSERT INTO TIPO_CONTATO(Codigo,
DESCRIÇÃO)
VALUES(10,'EMAIL'),
(20,'TELEFONE'),
(30,'FACEBOOK'),
(40,'CELULAR');



CREATE TABLE PESSOA (
    CPF integer,
    SEXO char(1),
    COD_PESSOA integer PRIMARY KEY,
    NOME varchar(150),
    LOGIN_Email varchar(150),
    SENHA INT,
    FK_TIPO_USER_COD_TIPOUSER INT
);
INSERT INTO PESSOA(CPF,
SEXO,
COD_PESSOA,
NOME,
LOGIN_Email,
SENHA,
FK_TIPO_USER_COD_TIPOUSER)
VALUES(1010,'F',71,'MARIA','MARIA@GMAIL.COM',12345,7001),
(2020,'F',72,'FLAVIS','FLAVIS@GMAIL.COM',12345,7001),
(3030,'M',73,'JEFF','JEFF@GMAIL.COM',12345,7001),
(4040,'M',74,'JOÃO','JOAO@GMAIL.COM',12345,7001),
(5050,'M',75,'ANDRE','ANDRE@GMAIL.COM',12345,7002),
(6060,'M',76,'WELLYTON','WELLYTON@GMAIL.COM',12345,7002),
(7070,'M',77,'ANDERSON','ANDERSON@GMAIL.COM',12345,7002),
(8080,'F',78,'JESSICA','JESSICA@GMAIL.COM',12345,7002),
(9090,'F',79,'ALLANIS','ALLANIS@GMAIL.COM',12345,7001);


CREATE TABLE TIPO_LOCAL (
    Cod_tipo_local INT PRIMARY KEY,
    Descrição varchar(80)
);
INSERT INTO TIPO_LOCAL(COD_TIPO_LOCAL,
DESCRIÇÃO)
VALUES(101,'RUA'),(102,'AV');


CREATE TABLE BAIRRO (
    Nome_bairro varchar(80),
    Cod_bairro INT PRIMARY KEY,
    FK_MUNICIPIO_Cod_Municipio INT
);
INSERT INTO BAIRRO(Nome_bairro,
Cod_bairro,
FK_MUNICIPIO_Cod_Municipio)
VALUES('PRAIA MAR',21,31),
('GAIVOTAS',22,31),
('DIVINOPOLIS',23,31),
('GOIABEIRAS',24,32),
('VIANA',25,33),
('SERRA_SEDE',26,31),
('CARAPINA',27,31),
('FUNDÃO',28,34),
('PRAIA GRANDE',29,34);



CREATE TABLE LOCAL (
    CEP INT,
    Descrição varchar(80),
    Numero_Casa INT,
    FK_PESSOA_COD_PESSOA integer,
    FK_TIPO_LOCAL_Cod_tipo_local INT,
    FK_BAIRRO_Cod_bairro INT
);

INSERT INTO LOCAL(CEP,
Descrição,
Numero_Casa,
FK_PESSOA_COD_PESSOA,
FK_TIPO_LOCAL_Cod_tipo_local,
FK_BAIRRO_Cod_bairro)
VALUES(11111,'NOVA_ERA',12,71,101,21),
(11112,'NOVA_HORIZONTE',14,72,102,21),
(11113,'GOVERNADOR_VALADARES',15,73,101,22),
(11114,'CAPITÃO',102,74,102,23),
(11115,'VV',19,75,101,24),
(11116,'PREY',20,76,101,25),
(11117,'TEOFILO',1060,77,101,29),
(11118,'AGUAS_CLARAS',1014,78,101,28),
(11119,'PORTO_SEGURO',1111,79,101,27);



CREATE TABLE MUNICIPIO (
    Nome_municipio varchar(80),
    Cod_Municipio INT PRIMARY KEY,
    FK_ESTADO_Cod_Estado INT
);
INSERT INTO MUNICIPIO  (Nome_municipio,
Cod_Municipio ,
FK_ESTADO_Cod_Estado)
VALUES('SERRA',31,41),
('VITORIA',32,41),
('VILA_VELHA',33,41),
('ARACRUZ',34,41),
('ALEGRE',35,41);


CREATE TABLE ESTADO (
    Cod_Estado INT PRIMARY KEY,
    Nome_Estado CHAR(2)
);
INSERT INTO ESTADO  (Cod_Estado,
Nome_Estado)
VALUES(41,'ES'),
(42,'MG'),
(43,'RS'),
(44,'RJ'),
(45,'SP');

CREATE TABLE ITENS (
    Cod_Item integer PRIMARY KEY,
    Nome varchar(150),
    Descrição varchar(80),
    Preço integer
);
INSERT INTO ITENS  (Cod_Item,
Nome,
Descrição,
Preço)
VALUES(50,'SELAGEM','SELAGEM',25.00),
(51,'CORTE','CORTE_MASCULINO',10.00),
(52,'CORTE_F','CORTE_FEMINO',40.00),
(53,'HIDRATAÇÃO','HIDRATAÇÃO_CAPILAR',25.00),
(54,'SHAMPOO_ALFAPART','Nutri Seduction Pear',70.00),
(55,'LOréal','Professionnel Absolut ',120.00),
(56,'MANICURE','UNHAS_DAS_MAOS',15.00),
(57,'PEDICURE','UNHAS_DAO_PES',15.00),
(58,'kit','kit_completo',200.00),
(59,'kit','kit_cauterização',150.00),
(60,'kit','kit_De_Esmalte',26.00);


CREATE TABLE Tipo_Status (
    Cod_Tipo_Status integer PRIMARY KEY,
    Descrição varchar(80)
);
INSERT INTO Tipo_Status  (Cod_Tipo_Status,
Descrição)
VALUES(61,'FEITO'),
(62,'CANCELADO'),
(63,'ESPERANDO'),
(64,'CONFIRMADO');



CREATE TABLE AGENDA (
    Cod_Agenda INT PRIMARY KEY,
    Hora_Agenda time,
    Data_Agenda DATE,
    FK_SERVICO_FK_ITENS_Cod_Item integer,
    FK_PESSOA_COD_PESSOA integer,
    FK_Tipo_Status_Cod_Tipo_Status integer,
    FK_FUNCIONARIO_FK_PESSOA_COD_PESSOA_FUNC integer
);

INSERT INTO AGENDA (Cod_Agenda,
Hora_Agenda,
Data_Agenda,
FK_SERVICO_FK_ITENS_Cod_Item,
FK_PESSOA_COD_PESSOA,
FK_Tipo_Status_Cod_Tipo_Status,
FK_FUNCIONARIO_FK_PESSOA_COD_PESSOA_FUNC)
VALUES(91,'15:00','2017/06/02',50,71,63,78),
(92,'16:00','2017/06/04',51,73,64,76),
(93,'13:00','2017/06/02',53,74,63,75),
(94,'08:00','2017/06/01',52,79,62,77),
(95,'09:00','2017/06/05',51,72,64,78);


CREATE TABLE SERVICO (
    TEMPO TIME,
    FK_ITENS_Cod_Item integer PRIMARY KEY
);


INSERT INTO SERVICO (TEMPO ,
FK_ITENS_Cod_Item)
VALUES('00:40',50),('00:40',51),('01:00',52),('00:40',56),('00:40',57),('00:20',53);


CREATE TABLE PRODUTO (
    VALIDADE DATE,
    FK_ITENS_Cod_Item integer PRIMARY KEY
);
INSERT INTO PRODUTO (VALIDADE,
FK_ITENS_Cod_Item)
VALUES('2020/06/15',54),
('2020/09/20',55),
('2018/01/11',58),
('2020/07/22',59),
('2019/12/04',60);


CREATE TABLE TIPO_USER (
    COD_TIPOUSER INT PRIMARY KEY,
    DESCRIÇÃO varchar(150)
);
INSERT INTO TIPO_USER(COD_TIPOUSER,DESCRIÇÃO)
VALUES(7001,'CLIENTE'),(7002,'ADMINISTRADOR');

CREATE TABLE FUNCIONARIO (
    Salario FLOAT,
    FK_PESSOA_COD_PESSOA_FUNC integer PRIMARY KEY,
    FK_SERVICO_FK_ITENS_Cod_Item integer,
    FK_tipo_funcao_Codigo INT
);
INSERT INTO FUNCIONARIO (Salario,
FK_PESSOA_COD_PESSOA_FUNC ,
FK_SERVICO_FK_ITENS_Cod_Item,
FK_tipo_funcao_Codigo)
VALUES(937.00,75,51,302),
(1100.00,76,52,303),
(937.00,78,56,304),
(1100.00,77,50,301);



CREATE TABLE Compra (
    COD_COMPRA INT PRIMARY KEY,
    DESCONTO FLOAT,
    DATA DATE,
    FK_PESSOA_COD_PESSOA integer
);
INSERT INTO COMPRA (COD_COMPRA,
DESCONTO,
DATA,
FK_PESSOA_COD_PESSOA)
VALUES(901,10,'2017/06/02',71),(902,12,'2017/06/04',73),(903,0,'2017/06/02',74),(904,10,'2017/06/01',79),(905,15,'2017/06/05',72);



CREATE TABLE tipo_funcao (
    Codigo INT PRIMARY KEY,
    Descricao varchar(150)
);

INSERT INTO tipo_funcao (Codigo,
Descricao)
VALUES(301,'SELAGEM'),(302,'CORTE'),(303,'CORTE_F'),(304,'MANICURE'),(305,'PEDICURE');




CREATE TABLE Itens_compra (
    FK_Compra_COD_COMPRA INT,
    FK_ITENS_Cod_Item integer
);
INSERT INTO Itens_compra (FK_Compra_COD_COMPRA,
FK_ITENS_Cod_Item)

VALUES(901,50),(902,51),(903,52),(904,53),(905,54);




 
ALTER TABLE CONTATO ADD CONSTRAINT FK_CONTATO_1
    FOREIGN KEY (FK_TIPO_CONTATO_Codigo)
    REFERENCES TIPO_CONTATO (Codigo);
 
ALTER TABLE CONTATO ADD CONSTRAINT FK_CONTATO_2
    FOREIGN KEY (FK_PESSOA_COD_PESSOA)
    REFERENCES PESSOA (COD_PESSOA);
 
ALTER TABLE PESSOA ADD CONSTRAINT FK_PESSOA_1
    FOREIGN KEY (FK_TIPO_USER_COD_TIPOUSER)
    REFERENCES TIPO_USER (COD_TIPOUSER);
 
ALTER TABLE BAIRRO ADD CONSTRAINT FK_BAIRRO_1
    FOREIGN KEY (FK_MUNICIPIO_Cod_Municipio)
    REFERENCES MUNICIPIO (Cod_Municipio);
 
ALTER TABLE LOCAL ADD CONSTRAINT FK_LOCAL_0
    FOREIGN KEY (FK_PESSOA_COD_PESSOA)
    REFERENCES PESSOA (COD_PESSOA);
 
ALTER TABLE LOCAL ADD CONSTRAINT FK_LOCAL_1
    FOREIGN KEY (FK_TIPO_LOCAL_Cod_tipo_local)
    REFERENCES TIPO_LOCAL (Cod_tipo_local);
 
ALTER TABLE LOCAL ADD CONSTRAINT FK_LOCAL_2
    FOREIGN KEY (FK_BAIRRO_Cod_bairro)
    REFERENCES BAIRRO (Cod_bairro);
 
ALTER TABLE MUNICIPIO ADD CONSTRAINT FK_MUNICIPIO_1
    FOREIGN KEY (FK_ESTADO_Cod_Estado)
    REFERENCES ESTADO (Cod_Estado);
 
ALTER TABLE AGENDA ADD CONSTRAINT FK_AGENDA_1
    FOREIGN KEY (FK_SERVICO_FK_ITENS_Cod_Item)
    REFERENCES SERVICO (FK_ITENS_Cod_Item);
 
ALTER TABLE AGENDA ADD CONSTRAINT FK_AGENDA_2
    FOREIGN KEY (FK_PESSOA_COD_PESSOA)
    REFERENCES PESSOA (COD_PESSOA);
 
ALTER TABLE AGENDA ADD CONSTRAINT FK_AGENDA_3
    FOREIGN KEY (FK_Tipo_Status_Cod_Tipo_Status)
    REFERENCES Tipo_Status (Cod_Tipo_Status);
 
ALTER TABLE AGENDA ADD CONSTRAINT FK_AGENDA_4
    FOREIGN KEY (FK_FUNCIONARIO_FK_PESSOA_COD_PESSOA_FUNC)
    REFERENCES FUNCIONARIO (FK_PESSOA_COD_PESSOA_FUNC);
 
ALTER TABLE SERVICO ADD CONSTRAINT FK_SERVICO_1
    FOREIGN KEY (FK_ITENS_Cod_Item)
    REFERENCES ITENS (Cod_Item);
 
ALTER TABLE PRODUTO ADD CONSTRAINT FK_PRODUTO_1
    FOREIGN KEY (FK_ITENS_Cod_Item)
    REFERENCES ITENS (Cod_Item);
 
ALTER TABLE FUNCIONARIO ADD CONSTRAINT FK_FUNCIONARIO_1
    FOREIGN KEY (FK_PESSOA_COD_PESSOA_FUNC)
    REFERENCES PESSOA (COD_PESSOA);
 
ALTER TABLE FUNCIONARIO ADD CONSTRAINT FK_FUNCIONARIO_2
    FOREIGN KEY (FK_SERVICO_FK_ITENS_Cod_Item)
    REFERENCES SERVICO (FK_ITENS_Cod_Item);
 
ALTER TABLE FUNCIONARIO ADD CONSTRAINT FK_FUNCIONARIO_3
    FOREIGN KEY (FK_tipo_funcao_Codigo)
    REFERENCES tipo_funcao (Codigo);
 
ALTER TABLE Compra ADD CONSTRAINT FK_Compra_1
    FOREIGN KEY (FK_PESSOA_COD_PESSOA)
    REFERENCES PESSOA (COD_PESSOA);
 
ALTER TABLE Itens_compra ADD CONSTRAINT FK_Itens_compra_0
    FOREIGN KEY (FK_Compra_COD_COMPRA)
    REFERENCES Compra (COD_COMPRA);
 
ALTER TABLE Itens_compra ADD CONSTRAINT FK_Itens_compra_1
    FOREIGN KEY (FK_ITENS_Cod_Item)
    REFERENCES ITENS (Cod_Item);